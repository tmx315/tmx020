(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1235:function(e,t,r){"use strict";var n=r(23);r(84),r(26),r(85),r(308),r(3);t.a=function(e){var t=e.$content,r=(e.params,e.store),d=(e.query,e.needArticleList),o=void 0===d||d,l=e.needGameList,c=void 0===l||l;return new Promise(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(n){var d,l,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=[],l=[],e.next=4,t("index").fetch();case 4:return m=e.sent,e.next=7,t({deep:!0}).where({slug:"data",dir:{$contains:"/game"},key:{$in:m.hotGame.map((function(e){return e.key}))}}).fetch();case 7:if((f=e.sent).sort((function(a,b){var e=m.hotGame.find((function(e){return e.key===a.key})),t=m.hotGame.find((function(e){return e.key===b.key}));return Object.assign(a,e||{}),Object.assign(b,t||{}),a.index-b.index})),r.commit("changeHotGameList",f),!o){e.next=15;break}return e.next=13,t({deep:!0}).where({slug:"data",dir:{$contains:"/article"}}).sortBy("id","desc").limit(5).fetch();case 13:d=e.sent,r.commit("changeArticleList",d);case 15:if(!c){e.next=20;break}return e.next=19,t({deep:!0}).where({slug:"data",dir:{$contains:"/game"}}).fetch();case 19:l=e.sent;case 20:n({gameList:l,articleList:d,indexData:m});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},1238:function(e,t,r){"use strict";t.a=function(){try{var e=window.location.href,t=document.title;document.all?window.external.addFavorite(e,t):window.sidebar&&window.sidebar.addPanel(t,e,"")}catch(e){console.log("err:",e),alert("加入收藏夹失败，请使用Ctrl+D快捷键进行添加操作!")}}},1245:function(e,t,r){var content=r(1263);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(120).default)("57ed4aac",content,!0,{sourceMap:!1})},1262:function(e,t,r){"use strict";r(1245)},1263:function(e,t,r){var n=r(119)(!1);n.push([e.i,".wrap[data-v-1f7cf4d1]{overflow-y:auto;overflow-x:hidden;flex-direction:column}.wrap[data-v-1f7cf4d1],.wrap .play_game[data-v-1f7cf4d1]{width:100vw;height:100vh}.wrap .play_game[data-v-1f7cf4d1]{flex-grow:1;min-height:600px}.wrap .play_game iframe[data-v-1f7cf4d1]{width:100%;height:100%}.wrap .play_header[data-v-1f7cf4d1]{max-width:100%;margin:0 auto}.wrap .play_header .extendButton[data-v-1f7cf4d1]{background:#f5f5f5;display:none}.wrap .play_header .play_header_menu[data-v-1f7cf4d1]{position:relative;top:0;left:0}.wrap .play_header .play_header_menu .nav[data-v-1f7cf4d1]{text-align:right}.wrap .play_header .play_header_menu .nav a[data-v-1f7cf4d1]{margin-right:5px;color:#8e8e8e}.wrap .play_header .play_header_menu .nav a[data-v-1f7cf4d1]:hover{color:#ff4500}.wrap .play_header .play_header_menu .nav .star[data-v-1f7cf4d1]:hover{color:gold}.wrap .play_header .play_header_menu .relatedGameList .list[data-v-1f7cf4d1]{overflow:hidden;padding:0 15px 25px}.wrap .play_header .play_header_menu .relatedGameList .list .game[data-v-1f7cf4d1]{float:left;width:50%;padding:5px}.wrap .play_header .play_header_menu .relatedGameList .list .game a.game_body[data-v-1f7cf4d1]{display:inline-block;display:flex}.wrap .play_header .play_header_menu .relatedGameList .list .game a.game_body:hover .game_info .game_title[data-v-1f7cf4d1]{font-size:18px}.wrap .play_header .play_header_menu .relatedGameList .list .game a.game_body .game_avatar[data-v-1f7cf4d1]{width:72px;height:72px;border-radius:5px}.wrap .play_header .play_header_menu .relatedGameList .list .game a.game_body .game_info[data-v-1f7cf4d1]{padding-left:15px;flex-grow:1;display:flex;flex-direction:column}.wrap .play_header .play_header_menu .relatedGameList .list .game a.game_body .game_info .game_title[data-v-1f7cf4d1]{transition:all .5s;font-size:16px;color:#333}.wrap .play_header .play_header_menu .relatedGameList .list .game a.game_body .game_info .game_summer[data-v-1f7cf4d1]{color:#757575;height:40px;overflow:hidden}.wrap .hotGameList[data-v-1f7cf4d1]{position:absolute;top:-999px}@media screen and (max-width:2048px){.wrap[data-v-1f7cf4d1]{overflow:hidden}.wrap .play_header[data-v-1f7cf4d1]{position:absolute;z-index:99;top:0;left:0;height:25px;width:100%;background:#fff}.wrap .play_header.open .play_header_menu[data-v-1f7cf4d1]{top:0}.wrap .play_header .play_header_menu[data-v-1f7cf4d1]{position:absolute;width:100%;top:-999px;left:0;transition:all .5s;background:#fff}.wrap .play_header .play_header_menu .nav a[data-v-1f7cf4d1]{display:block;line-height:48px;font-size:18px;text-align:center}.wrap .play_header .play_header_menu .relatedGameList .list .game[data-v-1f7cf4d1]{width:100%!important;border-bottom:1px solid #e4e4e4}.wrap .play_header .play_header_menu .relatedGameList .list .game[data-v-1f7cf4d1]:last-child{border:none}.wrap .play_header .extendButton[data-v-1f7cf4d1]{display:block!important;border-top:1px solid #e4e4e4;border-bottom:1px solid #e4e4e4;text-align:center;line-height:24px}.wrap .play_game[data-v-1f7cf4d1]{padding-top:25px;min-height:unset;height:calc(100% - 25px);width:100%}}",""]),e.exports=n},1287:function(e,t,r){"use strict";r.r(t);var n=r(153),d=r(23),o=(r(84),r(40),r(151),r(674),r(54),r(70),r(60),r(71),r(1238)),l=r(1235),c={layout:"play",asyncData:function(e){return Object(d.a)(regeneratorRuntime.mark((function t(){var r,d,o,c,m,f,h,_,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$content,d=e.params,o=e.store,c=e.query,t.next=3,Object(l.a)({$content:r,params:d,store:o,query:c,needGameList:!1});case 3:return m=t.sent,m.indexData,f=m.hotGameList,t.next=8,r({deep:!0}).where({slug:"data",dir:{$contains:"/game"},key:{$ne:d.name}}).fetch();case 8:return h=t.sent,t.next=11,r({deep:!0}).where({slug:"data",dir:{$contains:"/game"},key:{$eq:d.name}}).fetch();case 11:return _=t.sent,t.next=14,r({deep:!0}).where({slug:"play",dir:{$eq:"/game/"+d.name}}).fetch();case 14:return y=t.sent,t.abrupt("return",{hotGameList:f,relatedGameList:[].concat(Object(n.a)(h.splice(Math.floor(Math.random()*h.length),1)),Object(n.a)(h.splice(Math.floor(Math.random()*h.length),1))),gameData:_.length?_[0]:{seo:{}},gameTemplate:y.length?y[0]:null});case 16:case"end":return t.stop()}}),t)})))()},head:function(){return{title:this.gameData.seo.title,htmlAttrs:{lang:"zh-CN"},meta:[{hid:"description",name:"description",content:this.gameData.seo.description},{hid:"keywords",name:"keywords",content:this.gameData.seo.keyword}]}},data:function(){return{list:[],showMenu:!1}},methods:{favorite:o.a},computed:{skipIntroduce:function(){return this.$store.getters.skipIntroduce}},created:function(){var e=this,t=window.localStorage.getItem("history")||"[]";try{t=JSON.parse(t)}catch(e){t=[]}(t=t.filter((function(t){return t.key!==e.gameData.key}))).splice(0,0,{key:this.gameData.key,avatar:this.gameData.avatar,title:this.gameData.title}),window.localStorage.setItem("history",JSON.stringify(t.slice(0,6)))}},m=(r(1262),r(39)),component=Object(m.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrap"},[r("div",{staticClass:"hotGameList"},e._l(e.hotGameList,(function(g,i){return r("a",{key:i,attrs:{href:"/game/"+g.key}},[e._v(e._s(g.title))])})),0),e._v(" "),r("div",{staticClass:"play_header",class:{open:e.showMenu}},[r("div",{staticClass:"extendButton",on:{click:function(t){e.showMenu=!0}}},[r("a-icon",{attrs:{type:"down"}}),e._v(" 展开菜单")],1),e._v(" "),r("div",{staticClass:"play_header_menu"},[r("div",{staticClass:"nav"},[r("a",{attrs:{href:"/"}},[r("a-icon",{attrs:{type:"home"}}),e._v("首页")],1),e._v(" "),r("a",{attrs:{href:"/game/"+e.gameData.key}},[r("a-icon",{attrs:{type:"profile"}}),e._v("游戏说明")],1)]),e._v(" "),e.relatedGameList&&e.relatedGameList.length?r("div",{staticClass:"relatedGameList"},[r("div",{staticClass:"box_title"},[e._v("\n          更多推荐\n        ")]),e._v(" "),r("div",{staticClass:"list"},e._l(e.relatedGameList,(function(g,i){return r("div",{key:i,staticClass:"game"},[r("a",{staticClass:"game_body",attrs:{href:g.href?g.href:e.skipIntroduce?"/game/"+g.key+"/play":"/game/"+g.key}},[r("my-img",{staticClass:"game_avatar",attrs:{src:g.avatar,alt:g.title,type:"game"}}),e._v(" "),r("div",{staticClass:"game_info"},[r("span",{staticClass:"game_title"},[e._v(e._s(g.title))]),e._v(" "),r("span",{staticClass:"game_summer"},[e._v(e._s(g.summer))])])],1)])})),0)]):e._e(),e._v(" "),r("div",{staticClass:"extendButton",on:{click:function(t){e.showMenu=!1}}},[r("a-icon",{attrs:{type:"up"}}),e._v(" 收起菜单")],1)])]),e._v(" "),r("nuxt-content",{staticClass:"play_game",attrs:{document:e.gameTemplate}})],1)}),[],!1,null,"1f7cf4d1",null);t.default=component.exports;installComponents(component,{MyImg:r(309).default})}}]);